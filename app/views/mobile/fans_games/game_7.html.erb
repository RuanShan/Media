<!DOCTYPE html>
<html lang="utf-8">
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta name="format-detection" content="telephone=no">
<meta content="telephone=no" name="format-detection"> 
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<%= stylesheet_link_tag "/stylesheets/fans_game/main_game", media: "all" %>
<title>2048</title>
<script>
var highestMergedValue = 0;
function updateShare(bestScore) {
	imgUrl = '<%= MOBILE_DOMAIN %>/images/fans_game/game_7.jpg';
	lineLink = '<%= mobile_fans_game_url(site_id: @site.id,id:7) %>';
	descContent = "";
	updateShareScore(bestScore);
	appid = '';
}
function updateShareScore(bestScore) {
	if(bestScore > 0) {
		shareTitle = "哈哈，我玩《2048》得了" + bestScore +"分, 合出" + highestMergedValue + "！你能赢得过我吗？";
	}
	else {
		shareTitle = "最考验脑力的游戏！你能合出2048吗？";
	}
}
document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
	WeixinJSBridge.call('showOptionMenu');
});
</script>
</head>
<body>
	<div class="container">
		<div class="heading">
			<h1 class="title">2048</h1>
			<div class="scores-container">
				<div class="score-container">0</div>
				<div class="best-container">1520</div>
			</div>
		</div>
		<div class="above-game">
			<a class="restart-button" style="float:left;">重新再来</a>
			<a href="<%= mobile_fans_games_path(site_id: @site.id) %>" style="float: right;background: #8f7a66;border-radius: 3px;padding: 0 20px;text-decoration: none;color: #f9f6f2;height: 40px;line-height: 42px;cursor: pointer;display: block;text-align: center;">别点这里</a>
		</div>
		<div class="game-container">
			<div class="game-message">
				<p></p>
				<div class="lower">
					<a class="keep-playing-button">继续奋斗</a>
					<a class="retry-button">再来一次</a>
				</div>
			</div>

			<div class="grid-container">
				<div class="grid-row">
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
				</div>
				<div class="grid-row">
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
				</div>
				<div class="grid-row">
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
				</div>
				<div class="grid-row">
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
					<div class="grid-cell"></div>
				</div>
			</div>
			<div class="tile-container">
				<div class="tile tile-2 tile-position-1-4 tile-new">
					<div class="tile-inner">2</div>
				</div>
				<div class="tile tile-2 tile-position-3-3 tile-new">
					<div class="tile-inner">2</div>
				</div>
			</div>
		</div>
		<p class="game-explanation"> <strong class="important">玩法：</strong>
			用手指或键盘上下左右滑动，将两个相同的数字合并，例如：2 + 2 = 4， 4 + 4 = 8... <strong>直到 1024 + 1024 = 2048！</strong>
		</p>
	</div>
	<%= javascript_include_tag "/javascripts/fans_game/game_2048" %>
	<%= render "application/mobile/hide_share" %>
</body>
</html>